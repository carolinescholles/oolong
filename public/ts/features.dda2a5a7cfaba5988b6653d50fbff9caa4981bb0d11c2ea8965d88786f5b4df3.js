(()=>{var s=class{constructor(e){this.localStorageKey="ThemeColorScheme";this.bindMatchMedia(),this.currentScheme=this.getSavedScheme(),this.dispatchEvent(document.documentElement.dataset.userColorScheme),e&&this.bindClick(e),document.body.style.transition==""&&document.body.style.setProperty("transition","background-color .3s ease")}saveScheme(){localStorage.setItem(this.localStorageKey,this.currentScheme)}bindClick(e){e.addEventListener("click",n=>{this.isDark()?this.currentScheme="light":this.currentScheme="dark",this.setBodyClass(),this.currentScheme==this.systemPreferScheme&&(this.currentScheme="auto"),this.saveScheme()})}isDark(){return this.currentScheme=="dark"||this.currentScheme=="auto"&&this.systemPreferScheme=="dark"}dispatchEvent(e){let n=new CustomEvent("onColorSchemeChange",{detail:e});window.dispatchEvent(n)}setBodyClass(){this.isDark()?document.documentElement.dataset.userColorScheme="dark":document.documentElement.dataset.userColorScheme="light",this.dispatchEvent(document.documentElement.dataset.userColorScheme)}getSavedScheme(){let e=localStorage.getItem(this.localStorageKey);return e=="light"||e=="dark"||e=="auto"?e:"auto"}bindMatchMedia(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?this.systemPreferScheme="dark":this.systemPreferScheme="light",this.setBodyClass()})}},a=s,S=document.querySelectorAll(".article-post div.highlight"),d="Copy",f="Copied!",l=function(){S.forEach(t=>{let e=document.createElement("button");e.innerHTML=d,e.classList.add("copyCodeButton"),t.appendChild(e);let n=t.querySelector("code[data-lang]");if(!n)return;e.addEventListener("click",()=>{navigator.clipboard.writeText(n.textContent).then(()=>{e.textContent=f,setTimeout(()=>{e.textContent=d},1e3)}).catch(r=>{alert(r),console.log("Something went wrong",r)})})})},o=t=>{if(!t)return;t.remove?t.remove():t.parentNode.removeChild(t)},c=(t,e)=>{t.after?t.after(e):t.parentNode.insertBefore(e,t.nextSibling)},p=t=>{var e=t.parentNode,n=t.innerHTML,r=document.createElement("div");c(e,r),r.appendChild(t),t.innerHTML="",t.appendChild(e),e.innerHTML=n,c(r,r.firstElementChild),o(r)},m=function(){document.querySelectorAll('.footnotes > ol > li[id^="fn"], #refs > div[id^="ref-"]').forEach(function(t){let e=document.querySelectorAll('a[href="#'+t.id+'"]');if(e.length===0)return;e.forEach(function(i){i.removeAttribute("href")});let n=e[0],r=document.createElement("div");if(r.className="side side-right",/^fn/.test(t.id)){r.innerHTML=t.innerHTML;var u=n.innerHTML;r.firstElementChild.innerHTML='<span class="bg-number">'+u+"</span> "+r.firstElementChild.innerHTML,o(r.querySelector('a[href^="#fnref"]'));let i=n.parentNode;i.tagName==="SUP"&&p(n)}else r.innerHTML=t.outerHTML,n=n.parentNode;c(n,r),n.classList.add("note-ref"),o(t)}),document.querySelectorAll(".footnotes, #refs").forEach(function(t){var e=t.children;if(t.id==="refs")return e.length===0&&o(t);if(e.length!==2||e[0].tagName!=="HR"||e[1].tagName!=="OL")return;e[1].childElementCount===0&&o(t)})},h=!1;document.currentScript&&(h=document.currentScript.dataset.enableFootnotes=="true");var v=()=>{new a(document.getElementById("dark-mode-button")),h&&m(),l()};window.addEventListener("load",()=>{setTimeout(function(){v()},0)});})();
